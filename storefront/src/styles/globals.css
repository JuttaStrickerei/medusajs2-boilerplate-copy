@import "tailwindcss/base";
@import "tailwindcss/components";
@import "tailwindcss/utilities";

/* ============================================
   STRICKEREI JUTTA - GLOBAL STYLES
   Luxury Austrian Knitwear Brand (seit 1965)
   ============================================ */

@layer base {
  /* CSS Custom Properties / Design Tokens */
  :root {
    /* Colors */
    --color-background: 250 250 249; /* stone-50 */
    --color-surface: 245 245 244; /* stone-100 */
    --color-border: 231 229 228; /* stone-200 */
    --color-border-hover: 214 211 209; /* stone-300 */
    --color-text-muted: 168 162 158; /* stone-400 */
    --color-text-secondary: 120 113 108; /* stone-500 */
    --color-text-primary: 41 37 36; /* stone-800 */
    --color-accent: 41 37 36; /* stone-800 */
    
    /* Typography */
    --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
    --font-serif: 'Playfair Display', Georgia, serif;
    
    /* Spacing */
    --section-padding-x: clamp(1rem, 5vw, 4rem);
    --section-padding-y: clamp(3rem, 8vw, 6rem);
    --content-max-width: 1440px;
    
    /* Animation */
    --transition-fast: 150ms;
    --transition-normal: 300ms;
    --transition-slow: 500ms;
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.03);
    --shadow-card: 0 2px 8px -2px rgb(0 0 0 / 0.08), 0 4px 16px -4px rgb(0 0 0 / 0.04);
    --shadow-card-hover: 0 8px 30px -8px rgb(0 0 0 / 0.12), 0 4px 16px -4px rgb(0 0 0 / 0.06);
    --shadow-hover-lift: 0 10px 40px -10px rgb(0 0 0 / 0.15);
    
    /* Border radius */
    --radius-sm: 4px;
    --radius-md: 8px;
    --radius-lg: 16px;
    --radius-xl: 24px;
    --radius-full: 9999px;
  }
  
  /* Dark mode (optional - for future use) */
  .dark {
    --color-background: 12 10 9; /* stone-950 */
    --color-surface: 28 25 23; /* stone-900 */
    --color-border: 68 64 60; /* stone-700 */
    --color-border-hover: 87 83 78; /* stone-600 */
    --color-text-muted: 120 113 108; /* stone-500 */
    --color-text-secondary: 168 162 158; /* stone-400 */
    --color-text-primary: 245 245 244; /* stone-100 */
    --color-accent: 245 245 244; /* stone-100 */
  }
  
  /* Base HTML styles */
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }
  
  body {
    font-family: var(--font-sans);
    background-color: rgb(var(--color-background));
    color: rgb(var(--color-text-primary));
    line-height: 1.6;
  }
  
  /* Typography defaults */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-serif);
    font-weight: 500;
    line-height: 1.2;
    letter-spacing: -0.02em;
  }
  
  h1 { font-size: clamp(2.25rem, 5vw, 3.75rem); }
  h2 { font-size: clamp(1.875rem, 4vw, 3rem); }
  h3 { font-size: clamp(1.5rem, 3vw, 2.25rem); }
  h4 { font-size: clamp(1.25rem, 2.5vw, 1.875rem); }
  h5 { font-size: clamp(1.125rem, 2vw, 1.5rem); }
  h6 { font-size: clamp(1rem, 1.5vw, 1.25rem); }
  
  /* Link defaults */
  a {
    color: inherit;
    text-decoration: none;
    transition: color var(--transition-fast) var(--ease-smooth);
  }
  
  /* Focus styles */
  :focus-visible {
    outline: 2px solid rgb(var(--color-accent));
    outline-offset: 2px;
  }
  
  /* Selection */
  ::selection {
    background-color: rgb(var(--color-accent) / 0.1);
    color: rgb(var(--color-text-primary));
  }
  
  /* Image defaults */
  img {
    max-width: 100%;
    height: auto;
    display: block;
  }
  
  /* Button reset */
  button {
    font-family: inherit;
    cursor: pointer;
  }
}

@layer utilities {
  /* Chrome, Safari and Opera - Hide scrollbar */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar::-webkit-scrollbar-track {
    background-color: transparent;
  }

  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }

  /* Input label animation */
  input:focus ~ label,
  input:not(:placeholder-shown) ~ label {
    @apply -translate-y-2 text-xs;
  }

  input:focus ~ label {
    @apply left-0;
  }

  /* Autofill styles */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  textarea:-webkit-autofill,
  textarea:-webkit-autofill:hover,
  textarea:-webkit-autofill:focus,
  select:-webkit-autofill,
  select:-webkit-autofill:hover,
  select:-webkit-autofill:focus {
    border: 1px solid #d6d3d1;
    -webkit-text-fill-color: #292524;
    -webkit-box-shadow: 0 0 0px 1000px #fff inset;
    transition: background-color 5000s ease-in-out 0s;
  }

  /* Remove search input styling */
  input[type="search"]::-webkit-search-decoration,
  input[type="search"]::-webkit-search-cancel-button,
  input[type="search"]::-webkit-search-results-button,
  input[type="search"]::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }
  
  /* Line clamp utilities */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* Text gradient */
  .text-gradient {
    background: linear-gradient(135deg, #292524 0%, #57534e 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  /* Animate on scroll (for intersection observer) */
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }
  
  .animate-on-scroll.is-visible {
    opacity: 1;
    transform: translateY(0);
  }
  
  /* Stagger children animations */
  .stagger-children > * {
    opacity: 0;
    animation: fade-in-up 0.6s ease-out forwards;
  }
  
  .stagger-children > *:nth-child(1) { animation-delay: 0.1s; }
  .stagger-children > *:nth-child(2) { animation-delay: 0.2s; }
  .stagger-children > *:nth-child(3) { animation-delay: 0.3s; }
  .stagger-children > *:nth-child(4) { animation-delay: 0.4s; }
  .stagger-children > *:nth-child(5) { animation-delay: 0.5s; }
  .stagger-children > *:nth-child(6) { animation-delay: 0.6s; }
  .stagger-children > *:nth-child(7) { animation-delay: 0.7s; }
  .stagger-children > *:nth-child(8) { animation-delay: 0.8s; }
  
  /* Shimmer loading effect */
  .shimmer {
    background: linear-gradient(
      90deg,
      rgb(var(--color-surface)) 0%,
      rgb(var(--color-background)) 50%,
      rgb(var(--color-surface)) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }
  
  /* Aspect ratios for product images */
  .aspect-product {
    aspect-ratio: 3 / 4;
  }
  
  .aspect-product-wide {
    aspect-ratio: 4 / 3;
  }
  
  /* Safe area insets for mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

@layer components {
  /* Content container */
  .content-container {
    @apply max-w-[1440px] w-full mx-auto px-6 medium:px-8;
  }
  
  /* Section container */
  .section-container {
    @apply py-16 small:py-24;
  }

  /* Contrast button */
  .contrast-btn {
    @apply px-4 py-2 border border-stone-800 rounded-full 
           hover:bg-stone-800 hover:text-white 
           transition-colors duration-200 ease-in;
  }

  /* Text size utilities (keeping compatibility with existing code) */
  .text-xsmall-regular {
    @apply text-[10px] leading-4 font-normal;
  }

  .text-small-regular {
    @apply text-xs leading-5 font-normal;
  }

  .text-small-semi {
    @apply text-xs leading-5 font-semibold;
  }

  .text-base-regular {
    @apply text-sm leading-6 font-normal;
  }

  .text-base-semi {
    @apply text-sm leading-6 font-semibold;
  }

  .text-large-regular {
    @apply text-base leading-6 font-normal;
  }

  .text-large-semi {
    @apply text-base leading-6 font-semibold;
  }

  .text-xl-regular {
    @apply text-2xl leading-[36px] font-normal;
  }

  .text-xl-semi {
    @apply text-2xl leading-[36px] font-semibold;
  }

  .text-2xl-regular {
    @apply text-[30px] leading-[48px] font-normal;
  }

  .text-2xl-semi {
    @apply text-[30px] leading-[48px] font-semibold;
  }

  .text-3xl-regular {
    @apply text-[32px] leading-[44px] font-normal;
  }

  .text-3xl-semi {
    @apply text-[32px] leading-[44px] font-semibold;
  }
  
  /* New luxury text styles */
  .text-headline {
    @apply font-serif font-medium tracking-tight;
  }
  
  .text-body {
    @apply font-sans text-stone-600 leading-relaxed;
  }
  
  .text-caption {
    @apply text-xs text-stone-500 uppercase tracking-wider;
  }
  
  .text-price {
    @apply font-medium text-stone-800;
  }
  
  .text-price-sale {
    @apply text-error font-medium;
  }
  
  .text-price-original {
    @apply text-stone-400 line-through;
  }
  
  /* Link styles */
  .link-underline {
    @apply relative inline-block;
  }
  
  .link-underline::after {
    content: '';
    @apply absolute bottom-0 left-0 w-0 h-px bg-current 
           transition-all duration-300;
  }
  
  .link-underline:hover::after {
    @apply w-full;
  }
  
  /* Card styles */
  .product-card {
    @apply bg-white rounded-2xl overflow-hidden 
           shadow-card hover:shadow-card-hover 
           transition-shadow duration-300;
  }
  
  .product-card-image {
    @apply aspect-product w-full object-cover 
           transition-transform duration-500;
  }
  
  .product-card:hover .product-card-image {
    @apply scale-105;
  }
  
  /* Badge styles */
  .product-badge {
    @apply absolute top-3 left-3 px-2 py-1 
           text-xs font-medium rounded-full;
  }
  
  .product-badge-new {
    @apply bg-stone-800 text-white;
  }
  
  .product-badge-sale {
    @apply bg-error text-white;
  }
  
  .product-badge-soldout {
    @apply bg-stone-200 text-stone-600;
  }
  
  /* Button styles */
  .btn-lg {
    @apply h-12 px-8 text-base;
  }
  
  .btn-md {
    @apply h-10 px-6 text-sm;
  }
  
  .btn-sm {
    @apply h-8 px-4 text-xs;
  }
  
  .btn-icon {
    @apply flex items-center justify-center rounded-full 
           transition-all duration-200;
  }
  
  .btn-icon-sm {
    @apply w-8 h-8;
  }
  
  .btn-icon-md {
    @apply w-10 h-10;
  }
  
  .btn-icon-lg {
    @apply w-12 h-12;
  }
  
  /* Form styles */
  .form-label {
    @apply block text-sm font-medium text-stone-700 mb-2;
  }
  
  .form-input {
    @apply w-full px-4 py-3 rounded-lg border border-stone-300
           focus:border-stone-800 focus:ring-2 focus:ring-stone-100
           transition-all duration-200 outline-none;
  }
  
  .form-input-error {
    @apply border-error focus:border-error focus:ring-error/20;
  }
  
  .form-error {
    @apply text-sm text-error mt-1;
  }
  
  .form-helper {
    @apply text-sm text-stone-500 mt-1;
  }
  
  /* Divider */
  .divider {
    @apply h-px bg-stone-200 w-full;
  }
  
  /* Skeleton loading */
  .skeleton {
    @apply bg-stone-200 rounded animate-pulse;
  }
  
  .skeleton-text {
    @apply skeleton h-4 w-full;
  }
  
  .skeleton-title {
    @apply skeleton h-6 w-3/4;
  }
  
  .skeleton-image {
    @apply skeleton aspect-product w-full;
  }
}

/* Custom scrollbar for webkit browsers */
@supports (scrollbar-width: thin) {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #d6d3d1 #f5f5f4;
  }
}

/* Print styles */
@media print {
  .no-print {
    display: none !important;
  }
  
  body {
    background: white;
    color: black;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
